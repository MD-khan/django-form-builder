{% extends 'formbuilder/base.html' %}

{% block title %}All Forms{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>All Forms</h2>
    <a href="{% url 'formbuilder:form_create' %}" class="btn btn-primary">
        <i class="bi bi-plus-circle me-2"></i>Create New Form
    </a>
</div>

<div class="card">
    <div class="card-body">
        {% if forms %}
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Status</th>
                        <th>Fields</th>
                        <th>Submissions</th>
                        <th>Created</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for form in forms %}
                    <tr>
                        <td>
                            <strong>{{ form.name }}</strong>
                            <br>
                            <small class="text-muted">/forms/f/{{ form.slug }}/</small>
                        </td>
                        <td>
                            {% if form.status == 'published' %}
                                <span class="badge bg-success">Published</span>
                            {% elif form.status == 'draft' %}
                                <span class="badge bg-warning">Draft</span>
                            {% else %}
                                <span class="badge bg-secondary">Archived</span>
                            {% endif %}
                        </td>
                        <td>{{ form.fields.count }}</td>
                        <td>{{ form.submissions.count }}</td>
                        <td>{{ form.created_at|date:"M d, Y" }}</td>
                        <td>
                            <a href="{% url 'formbuilder:form_edit' pk=form.pk %}" class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-pencil"></i> Edit
                            </a>
                            <a href="{% url 'formbuilder:form_submissions' pk=form.pk %}" class="btn btn-sm btn-outline-info">
                                <i class="bi bi-list-check"></i> Submissions
                            </a>
                            {% if form.status == 'published' %}
                            <a href="{% url 'formbuilder:form_display' slug=form.slug %}" class="btn btn-sm btn-outline-success" target="_blank">
                                <i class="bi bi-eye"></i> View
                            </a>
                            {% endif %}
                            <a href="{% url 'formbuilder:form_delete' pk=form.pk %}" class="btn btn-sm btn-outline-danger">
                                <i class="bi bi-trash"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <div class="text-center py-5">
                <i class="bi bi-inbox display-1 text-muted"></i>
                <p class="mt-3 text-muted">No forms yet. Create your first form!</p>
                <a href="{% url 'formbuilder:form_create' %}" class="btn btn-primary">
                    <i class="bi bi-plus-circle me-2"></i>Create Form
                </a>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %} 